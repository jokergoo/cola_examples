 
 
## Ritz ALL dataset

[The Ritz ALL dataset](http://bioconductor.org/packages/release/data/experiment/html/ALL.html) is a Bioconductor dataset.

RDS files generated by cola (use `readRDS()` to load into R):

- [Ritz_ALL_subgroup.rds](https://jokergoo.github.io/cola_examples/Ritz_ALL/Ritz_ALL_subgroup.rds)

HTML reports for cola analysis:

- [Ritz_ALL_subgroup_cola_report](https://jokergoo.github.io/cola_examples/Ritz_ALL/Ritz_ALL_subgroup_cola_report/cola_report.html)

Following code performs the analysis.

Prepare the input matrix:

```r
library(cola)

library(ALL)
data(ALL)

m = exprs(ALL)
anno = pData(ALL)
anno = anno[, c("sex", "age", "BT")]

m = adjust_matrix(m)

library(preprocessCore)
cn = colnames(m)
rn = rownames(m)
m = normalize.quantiles(m)
colnames(m) = cn
rownames(m) = rn
```

Perform the consensus partitioning:

```r
register_NMF()

set.seed(123)
rl = run_all_consensus_partition_methods(
    m,
    mc.cores = 4, 
    anno = anno
)
saveRDS(rl, file = "Ritz_ALL_subgroup.rds")
cola_report(rl, output_dir = "Ritz_ALL_subgroup_cola_report", mc.cores = 4)
```
